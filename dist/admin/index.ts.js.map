{"version":3,"file":"index.ts.js","mappings":";;;;;;;;;;AAAa;;AAEb,QAAQ,mBAAO,CAAC,4BAAW;AAC3B,IAAI,KAAqC,EAAE;AAAA,EAG1C,CAAC;AACF;AACA,EAAE,kBAAkB;AACpB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,EAAE,mBAAmB;AACrB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACxBA,MAAM;EAAEA,OAAO;EAAEC;AAAM,CAAC,GAAGC,MAAM,CAACC,cAAc;AAGhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,OAAOA,CAACC,IAAY,EAAEC,IAAe,GAAG,CAAC,CAAC,EAAE;EACnD,MAAM;IAAEN,OAAO;IAAEC;EAAM,CAAC,GAAGC,MAAM,CAACC,cAAc;EAChD,OAAOI,KAAK,CAAC,GAAGP,OAAO,GAAGK,IAAI,EAAE,EAAE;IAChCG,MAAM,EAAEF,IAAI,CAACE,MAAM,IAAI,KAAK;IAC5BC,OAAO,EAAE;MACP,YAAY,EAAER,KAAK;MACnB,cAAc,EAAE;IAClB,CAAC;IACDS,IAAI,EAAEJ,IAAI,CAACI,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACN,IAAI,CAACI,IAAI,CAAC,GAAGG;EAChD,CAAC,CAAC,CAACC,IAAI,CAAC,MAAOC,CAAC,IAAK;IACnB,MAAMC,IAAI,GAAG,MAAMD,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC7C,IAAI,CAACF,CAAC,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACH,IAAI,EAAEI,OAAO,IAAI,QAAQL,CAAC,CAACM,MAAM,EAAE,CAAC;IAC/D,OAAOL,IAAI;EACb,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeA,IAAIA,CAAIX,IAAY,EAAEiB,IAAkB,EAAc;EACnE,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACP,OAAO,GAAGK,IAAI,EAAE;IACtC,GAAGiB,IAAI;IACPb,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,YAAY,EAAER,KAAK;MAAE,IAAIqB,IAAI,EAAEb,OAAO,IAAI,CAAC,CAAC;IAAE,CAAC;IAC9Fe,WAAW,EAAE;EACf,CAAC,CAAC;EACF,IAAI,CAACD,GAAG,CAACL,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,QAAQI,GAAG,CAACF,MAAM,EAAE,CAAC;EAClD,OAAOE,GAAG,CAACP,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASS,WAAWA,CAAA,EAAG;EAC5B,OAAOT,IAAI,CAOR,UAAU,CAAC;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASU,YAAYA,CAACC,OAM5B,EAAE;EACD,OAAOX,IAAI,CAKR,UAAU,EAAE;IAAER,MAAM,EAAE,MAAM;IAAEE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACe,OAAO;EAAE,CAAC,CAAC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,cAAcA,CAACC,KAAK,GAAG,KAAK,EAAE;EAC5C,MAAMxB,IAAI,GAAGwB,KAAK,GAAG,cAAc,GAAG,MAAM;EAC5C,OAAOb,IAAI,CAoBRX,IAAI,CAAC;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAaA;AACA;AACA;AACA;AACA;AACO,eAAeyB,eAAeA,CAAA,EAAsC;EACzE,OAAO1B,OAAO,CAAC,qBAAqB,CAAC;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACO,eAAe2B,eAAeA,CAAA,EAAyC;EAC5E,OAAO3B,OAAO,CAAC,0BAA0B,EAAE;IAAEI,MAAM,EAAE;EAAO,CAAC,CAAC;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACO,eAAewB,iBAAiBA,CAAA,EAAyC;EAC9E,OAAO5B,OAAO,CAAC,yBAAyB,EAAE;IAAEI,MAAM,EAAE;EAAO,CAAC,CAAC;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,eAAeyB,mBAAmBA,CACvCC,WAAmB,EACuB;EAC1C,OAAO9B,OAAO,CAAC,uBAAuB8B,WAAW,aAAa,CAAC;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAeC,iBAAiBA,CACrCC,cAAsB,EACtBC,KAA6B,EACN;EACvB,OAAOjC,OAAO,CAAC,2BAA2BgC,cAAc,EAAE,EAAE;IAAE5B,MAAM,EAAE,MAAM;IAAEE,IAAI,EAAE2B;EAAM,CAAC,CAAC;AAC9F,C;;;;;;;;;;;;;;;;;;;ACzMA;AACmD;AAC8B;AAAA;AAclE,SAASQ,mBAAmBA,CAAA,EAAG;EAC5C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,+CAAQ,CAAe,EAAE,CAAC;EACtD,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,+CAAQ,CAAc,EAAE,CAAC;EACzD,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,+CAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,+CAAQ,CAAkB,EAAE,CAAC;EACrD,MAAM,CAACc,GAAG,EAAEC,MAAM,CAAC,GAAGf,+CAAQ,CAAgB,IAAI,CAAC;EACnD,MAAM,CAACtB,EAAE,EAAEsC,KAAK,CAAC,GAAGhB,+CAAQ,CAAgB,IAAI,CAAC;EAEjDD,gDAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,IAAI;QACF,MAAMxB,CAAC,GAAG,MAAMe,qDAAe,CAAC,CAAC;QACjCiB,SAAS,CAAChC,CAAC,CAAC+B,MAAM,CAAC;MACrB,CAAC,CAAC,OAAOW,CAAM,EAAE;QACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,wBAAwB,CAAC;MAC/C;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENmB,gDAAS,CAAC,MAAM;IACd,IAAI,CAACS,QAAQ,EAAE;MACbK,OAAO,CAAC,EAAE,CAAC;MACX;IACF;IACA,CAAC,YAAY;MACXF,UAAU,CAAC,IAAI,CAAC;MAChBI,MAAM,CAAC,IAAI,CAAC;MACZC,KAAK,CAAC,IAAI,CAAC;MACX,IAAI;QACF,MAAMzC,CAAC,GAAG,MAAMkB,yDAAmB,CAACyB,MAAM,CAACV,QAAQ,CAAC,CAAC;QACrDK,OAAO,CAACtC,CAAC,CAAC4C,UAAU,CAAC;MACvB,CAAC,CAAC,OAAOF,CAAM,EAAE;QACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,4BAA4B,CAAC;MACnD,CAAC,SAAS;QACR+B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,MAAMY,MAAM,GAAGA,CAACC,EAAU,EAAEC,GAAwB,EAAEC,KAAU,KAC9DV,OAAO,CAAEW,EAAE,IAAKA,EAAE,CAACC,GAAG,CAAElD,CAAC,IAAMA,CAAC,CAAC8C,EAAE,KAAKA,EAAE,GAAG;IAAE,GAAG9C,CAAC;IAAE,CAAC+C,GAAG,GAAGC;EAAM,CAAC,GAAGhD,CAAE,CAAC,CAAC;EAE5E,MAAMmD,OAAO,GAAG,MAAOC,GAAkB,IAAK;IAC5CX,KAAK,CAAC,IAAI,CAAC;IACXD,MAAM,CAAC,IAAI,CAAC;IACZ,IAAI;MAAA,IAAAa,gBAAA,EAAAC,cAAA,EAAAC,aAAA,EAAAC,cAAA,EAAAC,gBAAA;MACF,MAAMrC,uDAAiB,CAACgC,GAAG,CAACN,EAAE,EAAE;QAC9BY,IAAI,EAAEN,GAAG,CAACM,IAAI;QACdC,WAAW,GAAAN,gBAAA,GAAED,GAAG,CAACO,WAAW,cAAAN,gBAAA,cAAAA,gBAAA,GAAI,EAAE;QAClCO,SAAS,GAAAN,cAAA,GAAEF,GAAG,CAACQ,SAAS,cAAAN,cAAA,cAAAA,cAAA,GAAI,EAAE;QAC9BO,QAAQ,GAAAN,aAAA,GAAEH,GAAG,CAACS,QAAQ,cAAAN,aAAA,cAAAA,aAAA,GAAI,IAAI;QAC9BO,SAAS,GAAAN,cAAA,GAAEJ,GAAG,CAACU,SAAS,cAAAN,cAAA,cAAAA,cAAA,GAAI,IAAI;QAChCO,WAAW,GAAAN,gBAAA,GAAEL,GAAG,CAACW,WAAW,cAAAN,gBAAA,cAAAA,gBAAA,GAAI;MAClC,CAAC,CAAC;MACFhB,KAAK,CAAC,QAAQ,CAAC;IACjB,CAAC,CAAC,OAAOC,CAAM,EAAE;MACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,cAAc,CAAC;IACrC;EACF,CAAC;EAED,oBACEwB,uDAAA;IAASmC,SAAS,EAAC,MAAM;IAACC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACjDxC,sDAAA;MAAAwC,QAAA,EAAI;IAAgB,CAAI,CAAC,eACzBtC,uDAAA;MAAOoC,KAAK,EAAE;QAAEG,OAAO,EAAE,OAAO;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAF,QAAA,gBAClDxC,sDAAA;QAAAwC,QAAA,EAAM;MAAY,CAAM,CAAC,eACzBtC,uDAAA;QACEmB,KAAK,EAAEf,QAAS;QAChBqC,QAAQ,EAAG5B,CAAC,IAAKR,WAAW,CAACQ,CAAC,CAAC6B,MAAM,CAACvB,KAAK,GAAGL,MAAM,CAACD,CAAC,CAAC6B,MAAM,CAACvB,KAAK,CAAC,GAAG,EAAE,CAAE;QAC3EiB,KAAK,EAAE;UAAEG,OAAO,EAAE,OAAO;UAAEF,SAAS,EAAE;QAAE,CAAE;QAAAC,QAAA,gBAE1CxC,sDAAA;UAAQqB,KAAK,EAAC,EAAE;UAAAmB,QAAA,EAAC;QAAkB,CAAQ,CAAC,EAC3CpC,MAAM,CAACmB,GAAG,CAAEsB,CAAC,iBACZ3C,uDAAA;UAAmBmB,KAAK,EAAEwB,CAAC,CAAC1B,EAAG;UAAAqB,QAAA,GAC5BK,CAAC,CAACC,KAAK,EAAC,QAAM,EAACD,CAAC,CAACE,MAAM,EAAC,GAC3B;QAAA,GAFaF,CAAC,CAAC1B,EAEP,CACT,CAAC;MAAA,CACI,CAAC;IAAA,CACJ,CAAC,EAEPX,OAAO,iBAAIR,sDAAA;MAAAwC,QAAA,EAAG;IAAmB,CAAG,CAAC,EACrC5B,GAAG,iBAAIZ,sDAAA;MAAGqC,SAAS,EAAC,KAAK;MAAAG,QAAA,EAAE5B;IAAG,CAAI,CAAC,EACnC,CAACJ,OAAO,IAAIF,QAAQ,IAAII,IAAI,CAACsC,MAAM,KAAK,CAAC,iBACxChD,sDAAA;MAAAwC,QAAA,EAAG;IAA0C,CAAG,CACjD,EAEA,CAAChC,OAAO,IAAIE,IAAI,CAACsC,MAAM,GAAG,CAAC,iBAC1B9C,uDAAA;MAAKmC,SAAS,EAAC,OAAO;MAAAG,QAAA,gBACpBtC,uDAAA;QACEmC,SAAS,EAAC,OAAO;QACjBC,KAAK,EAAE;UACLG,OAAO,EAAE,MAAM;UACfQ,mBAAmB,EAAE,wCAAwC;UAC7DC,GAAG,EAAE,CAAC;UACNC,UAAU,EAAE,GAAG;UACfT,YAAY,EAAE;QAChB,CAAE;QAAAF,QAAA,gBAEFxC,sDAAA;UAAAwC,QAAA,EAAK;QAAI,CAAK,CAAC,eACfxC,sDAAA;UAAAwC,QAAA,EAAK;QAAW,CAAK,CAAC,eACtBxC,sDAAA;UAAAwC,QAAA,EAAK;QAAK,CAAK,CAAC,eAChBxC,sDAAA;UAAAwC,QAAA,EAAK;QAAQ,CAAK,CAAC,eACnBxC,sDAAA;UAAAwC,QAAA,EAAK;QAAS,CAAK,CAAC,eACpBxC,sDAAA;UAAAwC,QAAA,EAAK;QAAmB,CAAK,CAAC,eAC9BxC,sDAAA,UAAU,CAAC;MAAA,CACR,CAAC,EACLU,IAAI,CAACa,GAAG,CAAElD,CAAC;QAAA,IAAA+E,WAAA;QAAA,oBACVlD,uDAAA;UACEmC,SAAS,EAAC,IAAI;UAEdC,KAAK,EAAE;YACLG,OAAO,EAAE,MAAM;YACfQ,mBAAmB,EAAE,wCAAwC;YAC7DC,GAAG,EAAE,CAAC;YACNG,UAAU,EAAE,OAAO;YACnBX,YAAY,EAAE;UAChB,CAAE;UAAAF,QAAA,gBAEFxC,sDAAA;YAAOqB,KAAK,EAAEhD,CAAC,CAAC0D,IAAK;YAACY,QAAQ,EAAG5B,CAAC,IAAKG,MAAM,CAAC7C,CAAC,CAAC8C,EAAE,EAAE,MAAM,EAAEJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK;UAAE,CAAE,CAAC,eAC/ErB,sDAAA;YACEU,IAAI,EAAE,CAAE;YACRW,KAAK,EAAEhD,CAAC,CAAC2D,WAAW,IAAI,EAAG;YAC3BW,QAAQ,EAAG5B,CAAC,IAAKG,MAAM,CAAC7C,CAAC,CAAC8C,EAAE,EAAE,aAAa,EAAEJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK;UAAE,CAC9D,CAAC,eACFrB,sDAAA;YACEqB,KAAK,EAAEhD,CAAC,CAAC4D,SAAS,IAAI,EAAG;YACzBU,QAAQ,EAAG5B,CAAC,IAAKG,MAAM,CAAC7C,CAAC,CAAC8C,EAAE,EAAE,WAAW,EAAEJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK;UAAE,CAC5D,CAAC,eACFrB,sDAAA;YACEsD,IAAI,EAAC,QAAQ;YACbjC,KAAK,GAAA+B,WAAA,GAAE/E,CAAC,CAAC6D,QAAQ,cAAAkB,WAAA,cAAAA,WAAA,GAAI,EAAG;YACxBT,QAAQ,EAAG5B,CAAC,IACVG,MAAM,CAAC7C,CAAC,CAAC8C,EAAE,EAAE,UAAU,EAAEJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK,GAAGL,MAAM,CAACD,CAAC,CAAC6B,MAAM,CAACvB,KAAK,CAAC,GAAG,IAAI;UACxE,CACF,CAAC,eACFrB,sDAAA;YACEqB,KAAK,EAAEhD,CAAC,CAAC8D,SAAS,IAAI,EAAG;YACzBQ,QAAQ,EAAG5B,CAAC,IAAKG,MAAM,CAAC7C,CAAC,CAAC8C,EAAE,EAAE,WAAW,EAAEJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK;UAAE,CAC5D,CAAC,eACFrB,sDAAA;YACEuD,WAAW,EAAC,eAAe;YAC3BlC,KAAK,EAAE,CAAChD,CAAC,CAAC+D,WAAW,IAAI,EAAE,EAAEoB,IAAI,CAAC,GAAG,CAAE;YACvCb,QAAQ,EAAG5B,CAAC,IACVG,MAAM,CACJ7C,CAAC,CAAC8C,EAAE,EACJ,aAAa,EACbJ,CAAC,CAAC6B,MAAM,CAACvB,KAAK,CACXoC,KAAK,CAAC,GAAG,CAAC,CACVlC,GAAG,CAAEmC,CAAC,IAAK1C,MAAM,CAAC0C,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC5BC,MAAM,CAAEC,CAAC,IAAK,CAAC7C,MAAM,CAAC8C,KAAK,CAACD,CAAC,CAAC,CACnC;UACD,CACF,CAAC,eACF7D,sDAAA;YAAQ+D,OAAO,EAAEA,CAAA,KAAMvC,OAAO,CAACnD,CAAC,CAAE;YAAAmE,QAAA,EAAC;UAAI,CAAQ,CAAC;QAAA,GA5C3CnE,CAAC,CAAC8C,EA6CJ,CAAC;MAAA,CACP,CAAC;IAAA,CACC,CACN,EAEA3C,EAAE,iBACDwB,sDAAA;MAAGqC,SAAS,EAAC,IAAI;MAACC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAE,CAAE;MAAAC,QAAA,EACvChE;IAAE,CACF,CACJ;EAAA,CACM,CAAC;AAEd,C;;;;;;;;;;;;;;;;;;;ACrLA;AACwC;AACoB;AAAA;AAE7C,SAASwF,YAAYA,CAAA,EAAG;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGpE,+CAAQ,CAAmB,IAAI,CAAC;EACxD,MAAM,CAACtB,EAAE,EAAEsC,KAAK,CAAC,GAAGhB,+CAAQ,CAAgB,IAAI,CAAC;EACjD,MAAM,CAACc,GAAG,EAAEC,MAAM,CAAC,GAAGf,+CAAQ,CAAgB,IAAI,CAAC;EAEnD,MAAMqE,GAAG,GAAG,MAAOC,KAAgB,IAAK;IACtCF,OAAO,CAACE,KAAK,CAAC;IACdtD,KAAK,CAAC,IAAI,CAAC;IACXD,MAAM,CAAC,IAAI,CAAC;IACZ,IAAI;MACF,IAAIuD,KAAK,KAAK,GAAG,EAAE;QACjB,MAAM/F,CAAC,GAAG,MAAMgB,qDAAe,CAAC,CAAC;QACjCyB,KAAK,CAAC,oBAAoBzC,CAAC,CAACgG,KAAK,UAAU,CAAC;MAC9C,CAAC,MAAM;QACL,MAAMhG,CAAC,GAAG,MAAMiB,uDAAiB,CAAC,CAAC;QACnCwB,KAAK,CAAC,oBAAoBzC,CAAC,CAACgG,KAAK,gCAAgC,CAAC;MACpE;IACF,CAAC,CAAC,OAAOtD,CAAM,EAAE;MACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,cAAc,CAAC;IACrC,CAAC,SAAS;MACRwF,OAAO,CAAC,IAAI,CAAC;IACf;EACF,CAAC;EAED,oBACEhE,uDAAA;IAASmC,SAAS,EAAC,MAAM;IAACC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACjDxC,sDAAA;MAAAwC,QAAA,EAAI;IAAS,CAAI,CAAC,eAClBxC,sDAAA;MAAAwC,QAAA,EAAG;IAAiE,CAAG,CAAC,eACxEtC,uDAAA;MAAKmC,SAAS,EAAC,SAAS;MAAAG,QAAA,gBACtBxC,sDAAA;QAAQ+D,OAAO,EAAEA,CAAA,KAAMI,GAAG,CAAC,GAAG,CAAE;QAACG,QAAQ,EAAEL,IAAI,KAAK,IAAK;QAAAzB,QAAA,EACtDyB,IAAI,KAAK,GAAG,GAAG,mBAAmB,GAAG;MAAe,CAC/C,CAAC,eACTjE,sDAAA;QAAQ+D,OAAO,EAAEA,CAAA,KAAMI,GAAG,CAAC,GAAG,CAAE;QAACG,QAAQ,EAAEL,IAAI,KAAK,IAAK;QAAAzB,QAAA,EACtDyB,IAAI,KAAK,GAAG,GAAG,kBAAkB,GAAG;MAAuB,CACtD,CAAC;IAAA,CACN,CAAC,EACLzF,EAAE,iBACDwB,sDAAA;MAAGqC,SAAS,EAAC,IAAI;MAACC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAE,CAAE;MAAAC,QAAA,EACvChE;IAAE,CACF,CACJ,EACAoC,GAAG,iBACFZ,sDAAA;MAAGqC,SAAS,EAAC,KAAK;MAACC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAE,CAAE;MAAAC,QAAA,EACxC5B;IAAG,CACH,CACJ;EAAA,CACM,CAAC;AAEd,C;;;;;;;;;;;;;;;;;;;ACpDA;AAC8D;AACK;AAAA;AAWpD,SAAS2D,YAAYA,CAAA,EAAG;EACrC,MAAM,CAAC/D,OAAO,EAAEC,UAAU,CAAC,GAAGX,+CAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC0E,MAAM,EAAEC,SAAS,CAAC,GAAG3E,+CAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAAC4E,OAAO,EAAEC,UAAU,CAAC,GAAG7E,+CAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACc,GAAG,EAAEC,MAAM,CAAC,GAAGf,+CAAQ,CAAgB,IAAI,CAAC;EACnD,MAAM,CAACtB,EAAE,EAAEsC,KAAK,CAAC,GAAGhB,+CAAQ,CAAgB,IAAI,CAAC;EACjD,MAAM,CAAC8E,OAAO,EAAEC,UAAU,CAAC,GAAG/E,+CAAQ,CAAa,IAAI,CAAC;EAExD,MAAM,CAACgF,IAAI,EAAEC,OAAO,CAAC,GAAGjF,+CAAQ,CAAY;IAC1CkF,MAAM,EAAE,EAAE;IACVC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE,MAAM;IACnBC,WAAW,EAAE,EAAE;IACfC,UAAU,EAAE;EACd,CAAC,CAAC;EACF,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGxF,+CAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMyF,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvB9E,UAAU,CAAC,IAAI,CAAC;IAChBI,MAAM,CAAC,IAAI,CAAC;IACZ,IAAI;MACF,MAAM6C,CAAC,GAAG,MAAM3E,iDAAW,CAAC,CAAC;MAC7BgG,OAAO,CAAC;QACNC,MAAM,EAAEtB,CAAC,CAACsB,MAAM,IAAI,EAAE;QACtBC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAExB,CAAC,CAACwB,WAAW;QAC1BC,WAAW,EAAEzB,CAAC,CAACyB,WAAW,IAAI,EAAE;QAChCC,UAAU,EAAE,CAAC,CAAC1B,CAAC,CAAC0B;MAClB,CAAC,CAAC;MACFE,OAAO,CAAC5B,CAAC,CAAC8B,YAAY,IAAI,EAAE,CAAC;IAC/B,CAAC,CAAC,OAAOzE,CAAM,EAAE;MACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,gBAAgB,CAAC;IACvC,CAAC,SAAS;MACR+B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDZ,gDAAS,CAAC,MAAM;IACd0F,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,MAAM,GAAG,MAAO1E,CAAY,IAAK;IACrCA,CAAC,CAAC2E,cAAc,CAAC,CAAC;IAClBjB,SAAS,CAAC,IAAI,CAAC;IACf5D,MAAM,CAAC,IAAI,CAAC;IACZC,KAAK,CAAC,IAAI,CAAC;IACX,IAAI;MACF,MAAM7B,OAAO,GAAG;QACd+F,MAAM,EAAEF,IAAI,CAACE,MAAM,CAACrB,IAAI,CAAC,CAAC;QAC1BsB,OAAO,EAAEH,IAAI,CAACG,OAAO,CAACtB,IAAI,CAAC,CAAC;QAAE;QAC9BuB,WAAW,EAAEJ,IAAI,CAACI,WAAW;QAC7BC,WAAW,EAAEL,IAAI,CAACK,WAAW,CAACxB,IAAI,CAAC,CAAC;QACpCyB,UAAU,EAAEN,IAAI,CAACM;MACnB,CAAC;MACD,MAAMpG,kDAAY,CAACC,OAAO,CAAC;MAC3B6B,KAAK,CAAC,iBAAiB,CAAC;MACxB,IAAIgE,IAAI,CAACG,OAAO,EAAE,MAAMM,IAAI,CAAC,CAAC,CAAC,CAAC;MAChCR,OAAO,CAAEY,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEV,OAAO,EAAE;MAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,OAAOlE,CAAM,EAAE;MACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,aAAa,CAAC;IACpC,CAAC,SAAS;MACR+F,SAAS,CAAC,KAAK,CAAC;IAClB;EACF,CAAC;EAED,MAAMmB,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzBjB,UAAU,CAAC,IAAI,CAAC;IAChB9D,MAAM,CAAC,IAAI,CAAC;IACZC,KAAK,CAAC,IAAI,CAAC;IACX+D,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMxG,CAAC,GAAG,MAAMa,oDAAc,CAAC4F,IAAI,CAACM,UAAU,CAAC;MAC/C,IAAI/G,CAAC,CAACc,KAAK,EAAE0F,UAAU,CAACxG,CAAC,CAACc,KAAK,CAAC;MAChC,IAAId,CAAC,CAACG,EAAE,EAAEsC,KAAK,CAAC,mBAAmBzC,CAAC,CAACM,MAAM,GAAG,CAAC,CAAC,KAC3CkC,MAAM,CAAC,gBAAgBxC,CAAC,CAACM,MAAM,MAAMN,CAAC,CAACwH,KAAK,IAAI,EAAE,EAAE,CAAC;IAC5D,CAAC,CAAC,OAAO9E,CAAM,EAAE;MACfF,MAAM,CAACE,CAAC,CAACrC,OAAO,IAAI,aAAa,CAAC;IACpC,CAAC,SAAS;MACRiG,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,IAAInE,OAAO,EAAE,oBAAOR,sDAAA;IAAAwC,QAAA,EAAG;EAAQ,CAAG,CAAC;EAEnC,oBACEtC,uDAAA;IAASmC,SAAS,EAAC,MAAM;IAAAG,QAAA,gBACvBxC,sDAAA;MAAAwC,QAAA,EAAI;IAAe,CAAI,CAAC,eACxBtC,uDAAA;MAAM4F,QAAQ,EAAEL,MAAO;MAACpD,SAAS,EAAC,MAAM;MAAAG,QAAA,gBACtCtC,uDAAA;QAAAsC,QAAA,gBACExC,sDAAA;UAAAwC,QAAA,EAAM;QAAM,CAAM,CAAC,eACnBxC,sDAAA;UACEqB,KAAK,EAAEyD,IAAI,CAACE,MAAO;UACnBrC,QAAQ,EAAG5B,CAAC,IAAKgE,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEE,MAAM,EAAEjE,CAAC,CAAC6B,MAAM,CAACvB;UAAM,CAAC,CAAE;UAC9D0E,QAAQ;QAAA,CACT,CAAC;MAAA,CACG,CAAC,eAER7F,uDAAA;QAAAsC,QAAA,gBACExC,sDAAA;UAAAwC,QAAA,EAAM;QAAO,CAAM,CAAC,eACpBxC,sDAAA;UACEqB,KAAK,EAAEyD,IAAI,CAACG,OAAQ;UACpBe,YAAY,EAAC,cAAc;UAC3BzC,WAAW,EAAE8B,IAAI,GAAG,GAAGA,IAAI,EAAE,GAAG,cAAe;UAC/C1C,QAAQ,EAAG5B,CAAC,IAAKgE,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEG,OAAO,EAAElE,CAAC,CAAC6B,MAAM,CAACvB;UAAM,CAAC;QAAE,CAChE,CAAC;MAAA,CACG,CAAC,eAERnB,uDAAA;QAAAsC,QAAA,gBACExC,sDAAA;UAAAwC,QAAA,EAAM;QAAW,CAAM,CAAC,eACxBtC,uDAAA;UACEmB,KAAK,EAAEyD,IAAI,CAACI,WAAY;UACxBvC,QAAQ,EAAG5B,CAAC,IAAKgE,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEI,WAAW,EAAEnE,CAAC,CAAC6B,MAAM,CAACvB;UAAa,CAAC,CAAE;UAAAmB,QAAA,gBAE1ExC,sDAAA;YAAQqB,KAAK,EAAC,MAAM;YAAAmB,QAAA,EAAC;UAAU,CAAQ,CAAC,eACxCxC,sDAAA;YAAQqB,KAAK,EAAC,IAAI;YAAAmB,QAAA,EAAC;UAAY,CAAQ,CAAC;QAAA,CAClC,CAAC;MAAA,CACJ,CAAC,eAERtC,uDAAA;QAAAsC,QAAA,gBACExC,sDAAA;UAAAwC,QAAA,EAAM;QAA8B,CAAM,CAAC,eAC3CxC,sDAAA;UACEqB,KAAK,EAAEyD,IAAI,CAACK,WAAY;UACxBxC,QAAQ,EAAG5B,CAAC,IAAKgE,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEK,WAAW,EAAEpE,CAAC,CAAC6B,MAAM,CAACvB;UAAM,CAAC;QAAE,CACpE,CAAC;MAAA,CACG,CAAC,eAERnB,uDAAA;QAAOoC,KAAK,EAAE;UAAEG,OAAO,EAAE,aAAa;UAAEY,UAAU,EAAE,QAAQ;UAAEH,GAAG,EAAE;QAAE,CAAE;QAAAV,QAAA,gBACrExC,sDAAA;UACEsD,IAAI,EAAC,UAAU;UACf2C,OAAO,EAAEnB,IAAI,CAACM,UAAW;UACzBzC,QAAQ,EAAG5B,CAAC,IAAKgE,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEM,UAAU,EAAErE,CAAC,CAAC6B,MAAM,CAACqD;UAAQ,CAAC;QAAE,CACrE,CAAC,oCAEJ;MAAA,CAAO,CAAC,eAER/F,uDAAA;QAAKmC,SAAS,EAAC,SAAS;QAAAG,QAAA,gBACtBxC,sDAAA;UAAQsD,IAAI,EAAC,QAAQ;UAACgB,QAAQ,EAAEE,MAAO;UAAAhC,QAAA,EACpCgC,MAAM,GAAG,SAAS,GAAG;QAAe,CAC/B,CAAC,eACTxE,sDAAA;UAAQsD,IAAI,EAAC,QAAQ;UAACS,OAAO,EAAE6B,MAAO;UAACtB,QAAQ,EAAEI,OAAQ;UAAAlC,QAAA,EACtDkC,OAAO,GAAG,UAAU,GAAG;QAAiB,CACnC,CAAC;MAAA,CACN,CAAC;IAAA,CACF,CAAC,EAENlG,EAAE,iBAAIwB,sDAAA;MAAGqC,SAAS,EAAC,IAAI;MAAAG,QAAA,EAAEhE;IAAE,CAAI,CAAC,EAChCoC,GAAG,iBAAIZ,sDAAA;MAAGqC,SAAS,EAAC,KAAK;MAAAG,QAAA,EAAE5B;IAAG,CAAI,CAAC,EACnCgE,OAAO,iBACN5E,sDAAA;MACEqC,SAAS,EAAC,YAAY;MACtBC,KAAK,EAAE;QACL4D,UAAU,EAAE,SAAS;QACrBC,OAAO,EAAE,EAAE;QACXC,YAAY,EAAE,CAAC;QACfC,QAAQ,EAAE,MAAM;QAChBC,SAAS,EAAE,GAAG;QACd/D,SAAS,EAAE;MACb,CAAE;MAAAC,QAAA,EAEDvE,IAAI,CAACC,SAAS,CAAC0G,OAAO,EAAE,IAAI,EAAE,CAAC;IAAC,CAC9B,CACN,eAED5E,sDAAA;MAAGsC,KAAK,EAAE;QAAEiE,OAAO,EAAE,GAAG;QAAEhE,SAAS,EAAE;MAAE,CAAE;MAAAC,QAAA,eACvCtC,uDAAA;QAAAsC,QAAA,GAAO,sCAC+B,eAAAxC,sDAAA;UAAAwC,QAAA,EAAI;QAAK,CAAI,CAAC,qCAAiC,EAAC,GAAG,eACvFxC,sDAAA;UAAAwC,QAAA,EAAQ;QAAa,CAAQ,CAAC,uBAChC;MAAA,CAAO;IAAC,CACP,CAAC;EAAA,CACG,CAAC;AAEd,C;;;;;;;;;;;;;;;;;;;ACxLA;AAC0B;AACoB;AACO;AACA;AACc;AAAA;AAQnE,SAASiE,GAAGA,CAAA,EAAG;EACb,oBACEzG,sDAAA;IAAKqC,SAAS,EAAC,WAAW;IAAAG,QAAA,eACxBtC,uDAAA;MAAKmC,SAAS,EAAC,iBAAiB;MAAAG,QAAA,gBAC9BxC,sDAAA;QAAKqC,SAAS,EAAC;MAAiB,CAAM,CAAC,eACvCnC,uDAAA;QAAKmC,SAAS,EAAC,iBAAiB;QAAAG,QAAA,gBAC9BxC,sDAAA,CAACuE,gEAAY,IAAE,CAAC,eAChBvE,sDAAA,CAACgE,gEAAY,IAAE,CAAC,eAChBhE,sDAAA,CAACG,uEAAmB,IAAE,CAAC;MAAA,CACpB,CAAC;IAAA,CACH;EAAC,CACH,CAAC;AAEV;AAEAqG,4DAAU,CAACE,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAE,CAAC,CAACC,MAAM,cAAC5G,sDAAA,CAACyG,GAAG,IAAE,CAAC,CAAC,C;;;;;;;;;;;AC5BtE;;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,oC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;ACN8B","sources":["webpack://dmn-booking-plugin/./node_modules/react-dom/client.js","webpack://dmn-booking-plugin/./src/admin/api.ts","webpack://dmn-booking-plugin/./src/admin/components/ActivityManagerCard.tsx","webpack://dmn-booking-plugin/./src/admin/components/DataSyncCard.tsx","webpack://dmn-booking-plugin/./src/admin/components/SettingsCard.tsx","webpack://dmn-booking-plugin/./src/admin/index.tsx","webpack://dmn-booking-plugin/./src/admin/styles/styles.scss","webpack://dmn-booking-plugin/external window \"React\"","webpack://dmn-booking-plugin/external window \"ReactDOM\"","webpack://dmn-booking-plugin/external window \"ReactJSXRuntime\"","webpack://dmn-booking-plugin/webpack/bootstrap","webpack://dmn-booking-plugin/webpack/runtime/compat get default export","webpack://dmn-booking-plugin/webpack/runtime/define property getters","webpack://dmn-booking-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://dmn-booking-plugin/webpack/runtime/make namespace object","webpack://dmn-booking-plugin/./src/admin/index.ts"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const { restUrl, nonce } = window.DMN_ADMIN_BOOT;\ntype FetchOpts = { method?: string; body?: any };\n\n/**\n * Performs a fetch request to the WordPress REST API using the provided path and options.\n *\n * @param path - The API endpoint path to request.\n * @param opts - Optional fetch options including method and body.\n * @returns A promise resolving to the parsed JSON response.\n * @throws If the response is not OK, throws an error with the response message or HTTP status.\n */\nfunction wpFetch(path: string, opts: FetchOpts = {}) {\n  const { restUrl, nonce } = window.DMN_ADMIN_BOOT;\n  return fetch(`${restUrl}${path}`, {\n    method: opts.method || 'GET',\n    headers: {\n      'X-WP-Nonce': nonce,\n      'Content-Type': 'application/json',\n    },\n    body: opts.body ? JSON.stringify(opts.body) : undefined,\n  }).then(async (r) => {\n    const json = await r.json().catch(() => ({}));\n    if (!r.ok) throw new Error(json?.message || `HTTP ${r.status}`);\n    return json;\n  });\n}\n\n/**\n * Performs a fetch request to the backend REST API and parses the JSON response.\n *\n * @template T - The expected response type.\n * @param path - The API endpoint path to request.\n * @param init - Optional fetch initialization options.\n * @returns A promise resolving to the parsed JSON response of type T.\n * @throws If the response is not OK, throws an error with the HTTP status.\n */\nasync function json<T>(path: string, init?: RequestInit): Promise<T> {\n  const res = await fetch(restUrl + path, {\n    ...init,\n    headers: { 'Content-Type': 'application/json', 'X-WP-Nonce': nonce, ...(init?.headers || {}) },\n    credentials: 'same-origin',\n  });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return res.json();\n}\n\n/**\n * Retrieves the current plugin settings from the backend.\n *\n * @returns A promise resolving to an object containing:\n *   app_id, api_key_mask, environment, venue_group, debug_mode, and has_key.\n */\nexport function getSettings() {\n  return json<{\n    app_id: string;\n    api_key_mask: string;\n    environment: 'prod' | 'qa';\n    venue_group: string;\n    debug_mode: boolean;\n    has_key: boolean;\n  }>('settings');\n}\n\n/**\n * Saves the provided settings to the backend via a POST request.\n *\n * @param payload - An object containing optional settings fields to update:\n *   app_id, api_key, environment, venue_group, debug_mode.\n * @returns A promise resolving to the updated settings response from the backend.\n */\nexport function saveSettings(payload: {\n  app_id?: string;\n  api_key?: string;\n  environment?: 'prod' | 'qa';\n  venue_group?: string;\n  debug_mode?: boolean;\n}) {\n  return json<{\n    ok: boolean;\n    environment: 'prod' | 'qa';\n    debug_mode: boolean;\n    venue_group?: string;\n  }>('settings', { method: 'POST', body: JSON.stringify(payload) });\n}\n\n/**\n * Tests the API connection to the backend.\n * Optionally enables debug mode to receive additional debug information.\n *\n * @param debug - If true, includes debug information in the response.\n * @returns A promise resolving to the connection test result and optional debug details.\n */\nexport function testConnection(debug = false) {\n  const path = debug ? 'test?debug=1' : 'test';\n  return json<{\n    ok: boolean;\n    status: number;\n    error?: string;\n    headers?: Record<string, string | null>;\n    sample?: Array<{ _id: string; path: string }>;\n    debug?: {\n      base_url?: string;\n      path?: string;\n      query?: any;\n      auth_format?: string;\n      auth_mask?: string;\n      auth_lengths?: { app_id: number; api_key: number };\n      duration_ms?: number;\n      response_headers?: Record<string, string>;\n      request_id?: string | null;\n      dmn_message?: string | null;\n      dmn_raw_body?: string | null;\n      sample_count?: number;\n    };\n  }>(path);\n}\n\n/**\n * Represents a venue in the admin API.\n *\n * @property id - The unique identifier for the venue.\n * @property title - The display name of the venue.\n * @property dmn_id - The DMN system identifier for the venue.\n */\nexport type AdminVenue = { id: number; title: string; dmn_id: string };\n\n/**\n * Represents an activity associated with a venue in the admin API.\n *\n * @property id - The unique identifier for the activity.\n * @property dmn_type_id - The DMN system type identifier for the activity.\n * @property name - The name of the activity.\n * @property description - Optional description of the activity.\n * @property priceText - Optional price information as text.\n * @property image_id - Optional image identifier.\n * @property image_url - Optional image URL.\n * @property gallery_ids - Optional array of gallery image IDs.\n */\n\nexport type AdminActivity = {\n  id: number;\n  dmn_type_id: string;\n  name: string;\n  description?: string;\n  priceText?: string;\n  image_id?: number | null;\n  image_url?: string | null;\n  gallery_ids?: number[];\n};\n\n/**\n * Retrieves the list of venues from the admin API.\n *\n * @returns A promise resolving to an object containing an array of venues.\n */\nexport async function adminListVenues(): Promise<{ venues: AdminVenue[] }> {\n  return wpFetch('dmn/v1/admin/venues');\n}\n\n/**\n * Synchronizes venues with the backend and returns the count of updated venues.\n *\n * @returns A promise resolving to an object with ok status and count of venues.\n */\nexport async function adminSyncVenues(): Promise<{ ok: true; count: number }> {\n  return wpFetch('dmn/v1/admin/sync/venues', { method: 'POST' });\n}\n\n/**\n * Synchronizes all activity types with the backend and returns the count of updated types.\n *\n * @returns A promise resolving to an object with ok status and count of types.\n */\nexport async function adminSyncTypesAll(): Promise<{ ok: true; count: number }> {\n  return wpFetch('dmn/v1/admin/sync/types', { method: 'POST' });\n}\n\n/**\n * Retrieves the list of activities for a specific venue from the admin API.\n *\n * @param venuePostId - The unique identifier of the venue.\n * @returns A promise resolving to an object containing an array of activities.\n */\nexport async function adminListActivities(\n  venuePostId: number,\n): Promise<{ activities: AdminActivity[] }> {\n  return wpFetch(`dmn/v1/admin/venues/${venuePostId}/activities`);\n}\n\n/**\n * Saves updates to a specific activity in the admin API.\n *\n * @param activityPostId - The unique identifier of the activity.\n * @param patch - Partial activity data to update.\n * @returns A promise resolving to an object with ok status.\n */\nexport async function adminSaveActivity(\n  activityPostId: number,\n  patch: Partial<AdminActivity>,\n): Promise<{ ok: true }> {\n  return wpFetch(`dmn/v1/admin/activities/${activityPostId}`, { method: 'POST', body: patch });\n}\n","// src/admin/components/ActivityManagerCard.tsx\nimport React, { useEffect, useState } from 'react';\nimport { adminListActivities, adminListVenues, adminSaveActivity } from '../api';\n\ntype AdminVenue = { id: number; title: string; dmn_id: string };\ntype AdminActivity = {\n  id: number;\n  dmn_type_id: string;\n  name: string;\n  description?: string;\n  priceText?: string;\n  image_id?: number | null;\n  image_url?: string | null;\n  gallery_ids?: number[];\n};\n\nexport default function ActivityManagerCard() {\n  const [venues, setVenues] = useState<AdminVenue[]>([]);\n  const [selected, setSelected] = useState<number | ''>('');\n  const [loading, setLoading] = useState(false);\n  const [rows, setRows] = useState<AdminActivity[]>([]);\n  const [err, setErr] = useState<string | null>(null);\n  const [ok, setOk] = useState<string | null>(null);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const r = await adminListVenues();\n        setVenues(r.venues);\n      } catch (e: any) {\n        setErr(e.message || 'Failed to load venues.');\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (!selected) {\n      setRows([]);\n      return;\n    }\n    (async () => {\n      setLoading(true);\n      setErr(null);\n      setOk(null);\n      try {\n        const r = await adminListActivities(Number(selected));\n        setRows(r.activities);\n      } catch (e: any) {\n        setErr(e.message || 'Failed to load activities.');\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [selected]);\n\n  const onCell = (id: number, key: keyof AdminActivity, value: any) =>\n    setRows((rs) => rs.map((r) => (r.id === id ? { ...r, [key]: value } : r)));\n\n  const saveOne = async (row: AdminActivity) => {\n    setOk(null);\n    setErr(null);\n    try {\n      await adminSaveActivity(row.id, {\n        name: row.name,\n        description: row.description ?? '',\n        priceText: row.priceText ?? '',\n        image_id: row.image_id ?? null,\n        image_url: row.image_url ?? null,\n        gallery_ids: row.gallery_ids ?? [],\n      });\n      setOk('Saved.');\n    } catch (e: any) {\n      setErr(e.message || 'Save failed.');\n    }\n  };\n\n  return (\n    <section className=\"card\" style={{ marginTop: 16 }}>\n      <h2>Activity Manager</h2>\n      <label style={{ display: 'block', marginBottom: 8 }}>\n        <span>Select venue</span>\n        <select\n          value={selected}\n          onChange={(e) => setSelected(e.target.value ? Number(e.target.value) : '')}\n          style={{ display: 'block', marginTop: 4 }}\n        >\n          <option value=\"\">— Choose a venue —</option>\n          {venues.map((v) => (\n            <option key={v.id} value={v.id}>\n              {v.title} (DMN {v.dmn_id})\n            </option>\n          ))}\n        </select>\n      </label>\n\n      {loading && <p>Loading activities…</p>}\n      {err && <p className=\"err\">{err}</p>}\n      {!loading && selected && rows.length === 0 && (\n        <p>No activities imported for this venue yet.</p>\n      )}\n\n      {!loading && rows.length > 0 && (\n        <div className=\"table\">\n          <div\n            className=\"thead\"\n            style={{\n              display: 'grid',\n              gridTemplateColumns: '1.2fr 1.8fr .7fr .6fr 1.4fr 1.1fr auto',\n              gap: 8,\n              fontWeight: 600,\n              marginBottom: 8,\n            }}\n          >\n            <div>Name</div>\n            <div>Description</div>\n            <div>Price</div>\n            <div>Image ID</div>\n            <div>Image URL</div>\n            <div>Gallery IDs (comma)</div>\n            <div></div>\n          </div>\n          {rows.map((r) => (\n            <div\n              className=\"tr\"\n              key={r.id}\n              style={{\n                display: 'grid',\n                gridTemplateColumns: '1.2fr 1.8fr .7fr .6fr 1.4fr 1.1fr auto',\n                gap: 8,\n                alignItems: 'start',\n                marginBottom: 8,\n              }}\n            >\n              <input value={r.name} onChange={(e) => onCell(r.id, 'name', e.target.value)} />\n              <textarea\n                rows={2}\n                value={r.description || ''}\n                onChange={(e) => onCell(r.id, 'description', e.target.value)}\n              />\n              <input\n                value={r.priceText || ''}\n                onChange={(e) => onCell(r.id, 'priceText', e.target.value)}\n              />\n              <input\n                type=\"number\"\n                value={r.image_id ?? ''}\n                onChange={(e) =>\n                  onCell(r.id, 'image_id', e.target.value ? Number(e.target.value) : null)\n                }\n              />\n              <input\n                value={r.image_url || ''}\n                onChange={(e) => onCell(r.id, 'image_url', e.target.value)}\n              />\n              <input\n                placeholder=\"e.g. 12,34,56\"\n                value={(r.gallery_ids || []).join(',')}\n                onChange={(e) =>\n                  onCell(\n                    r.id,\n                    'gallery_ids',\n                    e.target.value\n                      .split(',')\n                      .map((s) => Number(s.trim()))\n                      .filter((n) => !Number.isNaN(n)),\n                  )\n                }\n              />\n              <button onClick={() => saveOne(r)}>Save</button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {ok && (\n        <p className=\"ok\" style={{ marginTop: 8 }}>\n          {ok}\n        </p>\n      )}\n    </section>\n  );\n}\n","// src/admin/components/DataSyncCard.tsx\nimport React, { useState } from 'react';\nimport { adminSyncTypesAll, adminSyncVenues } from '../api';\n\nexport default function DataSyncCard() {\n  const [busy, setBusy] = useState<'v' | 't' | null>(null);\n  const [ok, setOk] = useState<string | null>(null);\n  const [err, setErr] = useState<string | null>(null);\n\n  const run = async (which: 'v' | 't') => {\n    setBusy(which);\n    setOk(null);\n    setErr(null);\n    try {\n      if (which === 'v') {\n        const r = await adminSyncVenues();\n        setOk(`Imported/updated ${r.count} venues.`);\n      } else {\n        const r = await adminSyncTypesAll();\n        setOk(`Imported/updated ${r.count} activity types across venues.`);\n      }\n    } catch (e: any) {\n      setErr(e.message || 'Sync failed.');\n    } finally {\n      setBusy(null);\n    }\n  };\n\n  return (\n    <section className=\"card\" style={{ marginTop: 16 }}>\n      <h2>Data Sync</h2>\n      <p>Pull venues and activity types from DesignMyNight into WordPress.</p>\n      <div className=\"actions\">\n        <button onClick={() => run('v')} disabled={busy !== null}>\n          {busy === 'v' ? 'Importing venues…' : 'Import Venues'}\n        </button>\n        <button onClick={() => run('t')} disabled={busy !== null}>\n          {busy === 't' ? 'Importing types…' : 'Import Activity Types'}\n        </button>\n      </div>\n      {ok && (\n        <p className=\"ok\" style={{ marginTop: 8 }}>\n          {ok}\n        </p>\n      )}\n      {err && (\n        <p className=\"err\" style={{ marginTop: 8 }}>\n          {err}\n        </p>\n      )}\n    </section>\n  );\n}\n","// src/admin/components/SettingsCard.tsx\nimport React, { FormEvent, useEffect, useState } from 'react';\nimport { getSettings, saveSettings, testConnection } from '../api';\n\ntype Env = 'prod' | 'qa';\ntype FormState = {\n  app_id: string;\n  api_key: string;\n  environment: Env;\n  venue_group: string;\n  debug_mode: boolean;\n};\n\nexport default function SettingsCard() {\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [err, setErr] = useState<string | null>(null);\n  const [ok, setOk] = useState<string | null>(null);\n  const [details, setDetails] = useState<any | null>(null);\n\n  const [form, setForm] = useState<FormState>({\n    app_id: '',\n    api_key: '',\n    environment: 'prod',\n    venue_group: '',\n    debug_mode: false,\n  });\n  const [mask, setMask] = useState('');\n\n  const load = async () => {\n    setLoading(true);\n    setErr(null);\n    try {\n      const s = await getSettings();\n      setForm({\n        app_id: s.app_id || '',\n        api_key: '',\n        environment: s.environment,\n        venue_group: s.venue_group || '',\n        debug_mode: !!s.debug_mode,\n      });\n      setMask(s.api_key_mask || '');\n    } catch (e: any) {\n      setErr(e.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  const onSave = async (e: FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n    setErr(null);\n    setOk(null);\n    try {\n      const payload = {\n        app_id: form.app_id.trim(),\n        api_key: form.api_key.trim(), // blank => keep existing on server\n        environment: form.environment,\n        venue_group: form.venue_group.trim(),\n        debug_mode: form.debug_mode,\n      };\n      await saveSettings(payload);\n      setOk('Settings saved.');\n      if (form.api_key) await load(); // refresh mask if key changed\n      setForm((f) => ({ ...f, api_key: '' })); // clear write-only field\n    } catch (e: any) {\n      setErr(e.message || 'Save failed');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const onTest = async () => {\n    setTesting(true);\n    setErr(null);\n    setOk(null);\n    setDetails(null);\n    try {\n      const r = await testConnection(form.debug_mode);\n      if (r.debug) setDetails(r.debug);\n      if (r.ok) setOk(`Test OK. Status ${r.status}.`);\n      else setErr(`Test failed (${r.status}). ${r.error || ''}`);\n    } catch (e: any) {\n      setErr(e.message || 'Test failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  if (loading) return <p>Loading…</p>;\n\n  return (\n    <section className=\"card\">\n      <h2>API Credentials</h2>\n      <form onSubmit={onSave} className=\"grid\">\n        <label>\n          <span>App ID</span>\n          <input\n            value={form.app_id}\n            onChange={(e) => setForm({ ...form, app_id: e.target.value })}\n            required\n          />\n        </label>\n\n        <label>\n          <span>API Key</span>\n          <input\n            value={form.api_key}\n            autoComplete=\"new-password\"\n            placeholder={mask ? `${mask}` : 'your_api_key'}\n            onChange={(e) => setForm({ ...form, api_key: e.target.value })}\n          />\n        </label>\n\n        <label>\n          <span>Environment</span>\n          <select\n            value={form.environment}\n            onChange={(e) => setForm({ ...form, environment: e.target.value as Env })}\n          >\n            <option value=\"prod\">Production</option>\n            <option value=\"qa\">QA / Sandbox</option>\n          </select>\n        </label>\n\n        <label>\n          <span>Default Venue Group (optional)</span>\n          <input\n            value={form.venue_group}\n            onChange={(e) => setForm({ ...form, venue_group: e.target.value })}\n          />\n        </label>\n\n        <label style={{ display: 'inline-flex', alignItems: 'center', gap: 8 }}>\n          <input\n            type=\"checkbox\"\n            checked={form.debug_mode}\n            onChange={(e) => setForm({ ...form, debug_mode: e.target.checked })}\n          />\n          Debug mode (saved with settings)\n        </label>\n\n        <div className=\"actions\">\n          <button type=\"submit\" disabled={saving}>\n            {saving ? 'Saving…' : 'Save Settings'}\n          </button>\n          <button type=\"button\" onClick={onTest} disabled={testing}>\n            {testing ? 'Testing…' : 'Test Connection'}\n          </button>\n        </div>\n      </form>\n\n      {ok && <p className=\"ok\">{ok}</p>}\n      {err && <p className=\"err\">{err}</p>}\n      {details && (\n        <pre\n          className=\"debug-dump\"\n          style={{\n            background: '#f6f7f7',\n            padding: 12,\n            borderRadius: 6,\n            overflow: 'auto',\n            maxHeight: 320,\n            marginTop: 8,\n          }}\n        >\n          {JSON.stringify(details, null, 2)}\n        </pre>\n      )}\n\n      <p style={{ opacity: 0.7, marginTop: 8 }}>\n        <small>\n          Note: Test Connection uses the last <em>saved</em> credentials & environment. Click{' '}\n          <strong>Save Settings</strong> after any changes.\n        </small>\n      </p>\n    </section>\n  );\n}\n","// src/admin/index.tsx\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport SettingsCard from './components/SettingsCard';\nimport DataSyncCard from './components/DataSyncCard';\nimport ActivityManagerCard from './components/ActivityManagerCard';\n\ndeclare global {\n  interface Window {\n    DMN_ADMIN_BOOT: { restUrl: string; nonce: string };\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"dmn-admin\">\n      <div className=\"dmn-admin__grid\">\n        <div className=\"dmn-admin__main\"></div>\n        <div className=\"dmn-admin__side\">\n          <SettingsCard />\n          <DataSyncCard />\n          <ActivityManagerCard />\n        </div>\n      </div>\n    </div>\n  );\n}\n\ncreateRoot(document.getElementById('dmn-admin-root')!).render(<App />);\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './styles/styles.scss';\r\nimport './index.tsx';\r\n"],"names":["restUrl","nonce","window","DMN_ADMIN_BOOT","wpFetch","path","opts","fetch","method","headers","body","JSON","stringify","undefined","then","r","json","catch","ok","Error","message","status","init","res","credentials","getSettings","saveSettings","payload","testConnection","debug","adminListVenues","adminSyncVenues","adminSyncTypesAll","adminListActivities","venuePostId","adminSaveActivity","activityPostId","patch","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ActivityManagerCard","venues","setVenues","selected","setSelected","loading","setLoading","rows","setRows","err","setErr","setOk","e","Number","activities","onCell","id","key","value","rs","map","saveOne","row","_row$description","_row$priceText","_row$image_id","_row$image_url","_row$gallery_ids","name","description","priceText","image_id","image_url","gallery_ids","className","style","marginTop","children","display","marginBottom","onChange","target","v","title","dmn_id","length","gridTemplateColumns","gap","fontWeight","_r$image_id","alignItems","type","placeholder","join","split","s","trim","filter","n","isNaN","onClick","DataSyncCard","busy","setBusy","run","which","count","disabled","SettingsCard","saving","setSaving","testing","setTesting","details","setDetails","form","setForm","app_id","api_key","environment","venue_group","debug_mode","mask","setMask","load","api_key_mask","onSave","preventDefault","f","onTest","error","onSubmit","required","autoComplete","checked","background","padding","borderRadius","overflow","maxHeight","opacity","createRoot","App","document","getElementById","render"],"sourceRoot":""}